// automatically generated by Xtext
grammar fr.unice.polytech.idm.xtext.SmartHomeDSL with org.eclipse.xtext.common.Terminals

import "http://www.example.org/smartHome" 
import "http://www.eclipse.org/emf/2002/Ecore" as ecore

SmartHome returns SmartHome:
    'SmartHome'
    '{'
        'sensorTypes' '{' sensorTypes+=SensorType ( "," sensorTypes+=SensorType)* '}'
        locations+=Location ( "," locations+=Location)*
        rules+=Rule ( "," rules+=Rule)*
        
    '}';

Location returns Location:
    {Location}
    'Location'
    name=EString
    '{'
    ( sensors+=Sensor ( "," sensors+=Sensor)* )?
    '}';

SensorType returns SensorType:
    {SensorType}
    (name=EString)?;

EString returns ecore::EString:
    STRING | ID;

Sensor returns Sensor:
    'Sensor' name=EString sensorType=[SensorType|EString] '(' dataFile=EString ')';
        
Rule returns Rule:
	'Rule'
	'{'
		conditions+=Condition ( "," conditions+=Condition)*
	'}';

Condition returns Condition:
	sensor=[Sensor|EString] operator=Operator operand=EInt;

EChar returns ecore::EChar:
	STRING | ID;

EInt returns ecore::EInt: 
	INT;
	

